
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>How to install PySCF &#8212; PySCF</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=92fd9be5" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/css/pyscf-pst.css?v=ed6b5f64" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=67920a36"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user/install';</script>
    <link rel="icon" href="../_static/favicon-32x32.png"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="How to use PySCF" href="using.html" />
    <link rel="prev" title="User Guide" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="2.10" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo-64x64.png" class="logo__image only-light" alt=""/>
    <img src="../_static/logo-64x64.png" class="logo__image only-dark pst-js-only" alt=""/>
  
  
    <p class="title logo__title">PySCF</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../quickstart.html">
    Quickstart
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../contributor/index.html">
    Contributor Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../about.html">
    About
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pyscf/pyscf" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../quickstart.html">
    Quickstart
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../contributor/index.html">
    Contributor Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../about.html">
    About
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pyscf/pyscf" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">How to install PySCF</a></li>
<li class="toctree-l1"><a class="reference internal" href="using.html">How to use PySCF</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Building molecules and crystals</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="gto.html">Molecular structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="pbcgto.html">Crystal structure</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Electronic structure methods</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="scf.html">Self-consistent field (SCF) methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="dft.html">Density functional theory (DFT)</a></li>
<li class="toctree-l1"><a class="reference internal" href="mp.html">Second-order Møller–Plesset perturbation theory (MP2)</a></li>
<li class="toctree-l1"><a class="reference internal" href="gw.html">GW approximation</a></li>
<li class="toctree-l1"><a class="reference internal" href="ci.html">Configuration interaction (CISD and FCI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="cc.html">Coupled-cluster theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="adc.html">Algebraic diagrammatic construction (ADC)</a></li>
<li class="toctree-l1"><a class="reference internal" href="agf2.html">Auxiliary second-order Green’s function perturbation theory (AGF2)</a></li>
<li class="toctree-l1"><a class="reference internal" href="mcscf.html">Multi-configuration self-consistent field (MCSCF)</a></li>
<li class="toctree-l1"><a class="reference internal" href="mcpdft.html">Multi-configuration pair-density functional theory (MC-PDFT)</a></li>
<li class="toctree-l1"><a class="reference internal" href="mrpt.html">Multi-reference perturbation theory (MRPT)</a></li>
<li class="toctree-l1"><a class="reference internal" href="tddft.html">Time-dependent Hartree-Fock and density functional theory</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Other functionalities</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="solvent.html">Solvation models</a></li>
<li class="toctree-l1"><a class="reference internal" href="qmmm.html">QM/MM methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="md.html">Molecular Dynamics</a></li>
<li class="toctree-l1"><a class="reference internal" href="df.html">Density fitting (DF)</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="pbc.html">Periodic boundary conditions</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="pbc/scf.html">SCF and DFT methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="pbc/df.html">Density fitting for crystalline calculations</a></li>
<li class="toctree-l2"><a class="reference internal" href="pbc/mix_mol.html">Mixing PBC and molecular modules</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="eph.html">Electron-phonon coupling</a></li>
<li class="toctree-l1"><a class="reference internal" href="lo.html">Localized orbitals</a></li>
<li class="toctree-l1"><a class="reference internal" href="sgx.html">Seminumerical exchange (SGX)</a></li>
<li class="toctree-l1"><a class="reference internal" href="geomopt.html">Geometry optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="gpu.html">GPU Acceleration (GPU4PySCF)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">PySCF-forge</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="pyscf-forge.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="pprpa.html">particle-particle Random Phase Approximation (ppRPA)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Extensions</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="extensions.html">Extensions</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">User Guide</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">How to install PySCF</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="how-to-install-pyscf">
<h1>How to install PySCF<a class="headerlink" href="#how-to-install-pyscf" title="Link to this heading">#</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>PySCF is not supported natively on Windows. You must use the Windows
Subsystem for Linux.</p>
</div>
<section id="install-with-pip">
<h2>Install with pip<a class="headerlink" href="#install-with-pip" title="Link to this heading">#</a></h2>
<p>This is the recommended way to install PySCF for non-developers,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>--prefer-binary<span class="w"> </span>pyscf
</pre></div>
</div>
<p>The pip package provides a precompiled PySCF code (python wheel) that
works on almost all Linux systems, most macOS systems, and
the Windows Subsystem for Linux.</p>
<p>If you already have installed
PySCF via pip, you can upgrade it to the new version,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pyscf
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Newly introduced features are available in the
<a class="reference external" href="https://github.com/pyscf/pyscf-forge">pyscf-forge</a> package, which can be
installed with <code class="docutils literal notranslate"><span class="pre">pip</span></code>,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>pyscf-forge
</pre></div>
</div>
<p>Some other features are only maintained as <a class="reference internal" href="#user/extensions"><span class="xref myst">Extensions</span></a> to PySCF.</p>
</div>
</section>
<section id="build-from-source-with-pip">
<h2>Build from source with pip<a class="headerlink" href="#build-from-source-with-pip" title="Link to this heading">#</a></h2>
<p>If you’re interested in a new feature that’s not included in the latest release or you simply
want the latest and greatest PySCF, you can build from source using pip,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>git+https://github.com/pyscf/pyscf
</pre></div>
</div>
<p>To install the features developed on a particular branch,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>git+https://github.com/pyscf/pyscf@&lt;branch_name&gt;
</pre></div>
</div>
<p>This install method compiles and links C extensions against the
libraries in your system. See <a class="reference internal" href="#build-from-source"><span class="std std-ref">Build from source</span></a> for a full
list of prerequisites. If you would like to tune the CMake compilation
parameters, you can set them with the environment variable <code class="docutils literal notranslate"><span class="pre">CMAKE_CONFIGURE_ARGS</span></code>,
for example,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">CMAKE_CONFIGURE_ARGS</span><span class="o">=</span><span class="s2">&quot;-DBUILD_MARCH_NATIVE=ON -DBLA_VENDOR=Intel10_64lp_seq&quot;</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="#cmake-options"><span class="std std-ref">CMake options</span></a> for more details about CMake configuration.</p>
</section>
<section id="build-from-source">
<h2>Build from source<a class="headerlink" href="#build-from-source" title="Link to this heading">#</a></h2>
<p>You can manually install PySCF by building it from source.
Prerequisites for manual installation are</p>
<ul class="simple">
<li><p>C compiler</p></li>
<li><p>C++ compiler (optional, but required for XCFun and some extensions)</p></li>
<li><p>CMake &gt;= 3.10</p></li>
<li><p>Python &gt;= 3.7</p></li>
<li><p>Numpy &gt;= 1.13</p></li>
<li><p>Scipy &gt;= 1.3</p></li>
<li><p>h5py &gt;= 2.7</p></li>
</ul>
<p>You can download the latest version of PySCF (or the development
branch) from GitHub,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/pyscf/pyscf.git
<span class="nb">cd</span><span class="w"> </span>pyscf
</pre></div>
</div>
<p>Next, you need to build the C extensions in <code class="docutils literal notranslate"><span class="pre">pyscf/lib</span></code></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>pyscf/lib
mkdir<span class="w"> </span>build
<span class="nb">cd</span><span class="w"> </span>build
cmake<span class="w"> </span>..
make
</pre></div>
</div>
<p>This will automatically download the analytical GTO integral library
<a class="reference external" href="https://github.com/sunqm/libcint.git">libcint</a> and the DFT exchange
correlation functional libraries <a class="reference external" href="https://libxc.gitlab.io/">Libxc</a>
and <a class="reference external" href="https://github.com/dftlibs/xcfun.git">XCFun</a>. Finally, to allow Python to
find the <code class="docutils literal notranslate"><span class="pre">pyscf</span></code> package, add the top-level <code class="docutils literal notranslate"><span class="pre">pyscf</span></code> directory (not the
<code class="docutils literal notranslate"><span class="pre">pyscf/pyscf</span></code> subdirectory) to <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code>.  For example, if <code class="docutils literal notranslate"><span class="pre">pyscf</span></code>
is installed in <code class="docutils literal notranslate"><span class="pre">/opt</span></code>, you should update <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> with something
like,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">PYTHONPATH</span><span class="o">=</span>/opt/pyscf:<span class="nv">$PYTHONPATH</span>
</pre></div>
</div>
<p>To ensure that the installation was successful, you can use python to
try to import and pring the PySCF version,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import pyscf; print(pyscf.__version__)&quot;</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="#cmake-options"><span class="std std-ref">CMake options</span></a> for details about CMake configuration.</p>
</section>
<section id="install-with-conda">
<h2>Install with conda<a class="headerlink" href="#install-with-conda" title="Link to this heading">#</a></h2>
<p>If you have a <a class="reference external" href="https://conda.io/docs/">Conda</a> (or
<a class="reference external" href="https://www.continuum.io/downloads">Anaconda</a> environment, PySCF
package can be installed from the Conda cloud (for Linux and macOS
systems),</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>pyscf<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>pyscf
</pre></div>
</div>
<p>To prevent potential conflict problems, it is recommended to enable the conda-forge channel in the <code class="docutils literal notranslate"><span class="pre">.condarc</span></code>,
or create an environment enabling conda-forge like</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>pyscf-env<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>-c<span class="w"> </span>pyscf<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.9<span class="w"> </span>pyscf
conda<span class="w"> </span>activate<span class="w"> </span>pyscf-env
</pre></div>
</div>
<!-- 
Extension modules are not available on the Conda cloud. They should be
installed either with pip or through the environment variable
`PYSCF_EXT_PATH` (see [Installing extensions](extensions)).
-->
</section>
<section id="install-on-fedora">
<h2>Install on Fedora<a class="headerlink" href="#install-on-fedora" title="Link to this heading">#</a></h2>
<p>If you are running Fedora Linux, you can install PySCF as a
distribution package,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dnf<span class="w"> </span>install<span class="w"> </span>python3-pyscf
</pre></div>
</div>
<p>If you are running on an x86-64 platform, dnf should automatically
install the optimized integral library, qcint, instead of the
cross-platform libcint library.</p>
<!--
Extension modules are not available in the Fedora package.
-->
</section>
<section id="docker-image">
<h2>Docker image<a class="headerlink" href="#docker-image" title="Link to this heading">#</a></h2>
<p>The following command starts a container with a jupyter notebook
server that listens for HTTP connections on port 8888,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="o">-</span><span class="n">it</span> <span class="o">-</span><span class="n">p</span> <span class="mi">8888</span><span class="p">:</span><span class="mi">8888</span> <span class="n">pyscf</span><span class="o">/</span><span class="n">pyscf</span><span class="p">:</span><span class="n">latest</span>
</pre></div>
</div>
<p>Now you can visit <code class="docutils literal notranslate"><span class="pre">https://localhost:8888</span></code> with your browser to use
PySCF in the notebook.</p>
<p>Another way to use PySCF in a docker container is to start an Ipython
shell,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>pyscf/pyscf:latest<span class="w"> </span>start.sh<span class="w"> </span>ipython
</pre></div>
</div>
</section>
<section id="advanced-build-options">
<h2>Advanced build options<a class="headerlink" href="#advanced-build-options" title="Link to this heading">#</a></h2>
<section id="cmake-options">
<h3>CMake options<a class="headerlink" href="#cmake-options" title="Link to this heading">#</a></h3>
<p>A full build of PySCF may take a long time to finish, and the CMake options
listed below can be used to speed up compilation or omit packages that fail to compile
(e.g., <code class="docutils literal notranslate"><span class="pre">XCFun</span></code> may fail to build if a proper C++ compiler is not available).</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If both <code class="docutils literal notranslate"><span class="pre">-DENABLE_LIBXC=OFF</span></code> and <code class="docutils literal notranslate"><span class="pre">-DENABLE_XCFUN=OFF</span></code> are set, importing the
dft module will lead to an <code class="docutils literal notranslate"><span class="pre">ImportError</span></code>.</p>
</div>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Flags</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ENABLE_LIBXC</span></code></p></td>
<td><p>ON</p></td>
<td><p>Whether to use <code class="docutils literal notranslate"><span class="pre">Libxc</span></code> library in PySCF. If <code class="docutils literal notranslate"><span class="pre">-DENABLE_LIBXC=OFF</span></code> is appended to cmake command, <code class="docutils literal notranslate"><span class="pre">Libxc</span></code> will not be compiled.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ENABLE_XCFUN</span></code></p></td>
<td><p>ON</p></td>
<td><p>Whether to use <code class="docutils literal notranslate"><span class="pre">XCFun</span></code> library in PySCF. If <code class="docutils literal notranslate"><span class="pre">-DENABLE_XCFUN=OFF</span></code> is appended to cmake command, <code class="docutils literal notranslate"><span class="pre">XCFun</span></code> will not be compiled.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUILD_LIBXC</span></code></p></td>
<td><p>ON</p></td>
<td><p>Set it to <code class="docutils literal notranslate"><span class="pre">OFF</span></code> to skip compiling <code class="docutils literal notranslate"><span class="pre">Libxc</span></code>. The dft module still calls <code class="docutils literal notranslate"><span class="pre">Libxc</span></code> library by default. The dft module will be linked against the <code class="docutils literal notranslate"><span class="pre">Libxc</span></code> library from an earlier build.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUILD_XCFUN</span></code></p></td>
<td><p>ON</p></td>
<td><p>Set it to <code class="docutils literal notranslate"><span class="pre">OFF</span></code> to skip compiling <code class="docutils literal notranslate"><span class="pre">XCFun</span></code>. The dft module will be linked against the <code class="docutils literal notranslate"><span class="pre">XCFun</span></code> library from an earlier build.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUILD_LIBCINT</span></code></p></td>
<td><p>ON</p></td>
<td><p>Set it to <code class="docutils literal notranslate"><span class="pre">OFF</span></code> to skip compiling <code class="docutils literal notranslate"><span class="pre">libcint</span></code>. The integral library from an earlier build will be used.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WITH_F12</span></code></p></td>
<td><p>ON</p></td>
<td><p>Whether to compile the F12 integrals.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DISABLE_DFT</span></code></p></td>
<td><p>OFF</p></td>
<td><p>Set this flag to skip the entire dft module. Neither <code class="docutils literal notranslate"><span class="pre">Libxc</span></code> nor <code class="docutils literal notranslate"><span class="pre">XCFun</span></code> will be compiled.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUILD_MARCH_NATIVE</span></code></p></td>
<td><p>OFF</p></td>
<td><p>Whether to let the compiler optimize the code against CPU architecture.</p></td>
</tr>
</tbody>
</table>
</div>
<section id="cmake-config-file">
<h4>CMake config file<a class="headerlink" href="#cmake-config-file" title="Link to this heading">#</a></h4>
<p>CMake options can be saved in a configuration file <code class="docutils literal notranslate"><span class="pre">pyscf/lib/cmake.arch.inc</span></code>.
The settings in this file will be automatically loaded and overwrite the
default CMake options during compilation.  For example, you can set
<code class="docutils literal notranslate"><span class="pre">CMAKE_C_FLAGS</span></code> in this file to include advanced compiler optimiztion flags,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>set<span class="o">(</span>CMAKE_C_FLAGS<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CMAKE_C_FLAGS</span><span class="si">}</span><span class="s2"> -ffast-math -mtune=native -march=native&quot;</span><span class="o">)</span>
</pre></div>
</div>
<p>Other settings, variables, and flags can also be set in this file,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="w">  </span>set<span class="o">(</span>ENABLE_XCFUN<span class="w"> </span>Off<span class="o">)</span>
<span class="w">  </span>set<span class="o">(</span>WITH_F12<span class="w"> </span>Off<span class="o">)</span>
</pre></div>
</div>
<p>Some examples of platform-specific configurations can be found in the
<a class="reference external" href="https://github.com/pyscf/pyscf/tree/master/pyscf/lib/cmake_user_inc_examples">cmake_user_inc_examples</a>
directory.</p>
</section>
</section>
<section id="environment-variables-and-global-configurations">
<h3>Environment variables and global configurations<a class="headerlink" href="#environment-variables-and-global-configurations" title="Link to this heading">#</a></h3>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Env variable</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PYSCF_MAX_MEMORY</span></code></p></td>
<td><p>Maximum memory to use in MB</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PYSCF_TMPDIR</span></code></p></td>
<td><p>Directory for temporary files</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PYSCF_CONFIG_FILE</span></code></p></td>
<td><p>File where various PySCF default settings are stored</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PYSCF_EXT_PATH</span></code></p></td>
<td><p>Path for finding external extensions</p></td>
</tr>
</tbody>
</table>
</div>
<p><code class="docutils literal notranslate"><span class="pre">PYSCF_MAX_MEMORY</span></code> sets the default maximum memory in MB when creating
<code class="docutils literal notranslate"><span class="pre">Mole</span></code> (or <code class="docutils literal notranslate"><span class="pre">Cell</span></code>) object. It corresponds to the attribute
<code class="docutils literal notranslate"><span class="pre">max_memory``of</span> <span class="pre">Mole</span></code> (or <code class="docutils literal notranslate"><span class="pre">Cell</span></code>) object.</p>
<p>The environment variable <code class="docutils literal notranslate"><span class="pre">PYSCF_TMPDIR</span></code> controls which directory is
used to store intermediate files and temporary data when PySCF is run;
it is also commonly known as the scratch directory. If this
environment variable is not set, the system-wide temporary directory
<code class="docutils literal notranslate"><span class="pre">TMPDIR</span></code> will be used as the temp directory, instead. It is highly
recommended to set this variable to a directory with enough disk
space, as many quantum chemistry methods may consume a huge amount of
temporary storage space. It is equally important that the scratch
directory has fast i/o: for instance, using a network-mounted scratch
disk is often much slower than local disks.</p>
<p><code class="docutils literal notranslate"><span class="pre">PYSCF_CONFIG_FILE</span></code> is a Python file that can be used to predefine and
override several default parameters in the program: you may already
have noticed statements like <code class="docutils literal notranslate"><span class="pre">getattr(__config__,</span> <span class="pre">&quot;FOOBAR&quot;)</span></code> many
places in the source code. These global parameters are defined in
<code class="docutils literal notranslate"><span class="pre">PYSCF_CONFIG_FILE</span></code> and loaded when the pyscf module is imported.  By
default, this environment variable points to <code class="docutils literal notranslate"><span class="pre">~/.pyscf_conf.py</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">PYSCF_EXT_PATH</span></code> allows PySCF to find any possible extension
packages. This is documented in detail in :ref:<code class="docutils literal notranslate"><span class="pre">installing_extproj</span></code>.</p>
</section>
<section id="install-without-internet">
<h3>Install without internet<a class="headerlink" href="#install-without-internet" title="Link to this heading">#</a></h3>
<p>In typical installations, all external libraries (libcint, Libxc, XCFun) are
downloaded and installed when the C extensions are compiled, thus requiring
internet access. In this section, we show how to install the external libraries
without internet access, assuming you have downloaded the libcint, Libxc, and
XCFun libraries,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/sunqm/libcint.git
tar<span class="w"> </span>czf<span class="w"> </span>libcint.tar.gz<span class="w"> </span>libcint
wget<span class="w"> </span>https://gitlab.com/libxc/libxc/-/archive/6.0.0/libxc-6.0.0.tar.gz
wget<span class="w"> </span>-O<span class="w"> </span>xcfun.tar.gz<span class="w"> </span>https://github.com/fishjojo/xcfun/archive/refs/tags/cmake-3.5.tar.gz
</pre></div>
</div>
<p>Assuming <code class="docutils literal notranslate"><span class="pre">/opt</span></code> is the place where these libraries will be installed, they
can be compiled,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tar<span class="w"> </span>xvzf<span class="w"> </span>libcint.tar.gz
<span class="nb">cd</span><span class="w"> </span>libcint
mkdir<span class="w"> </span>build<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>build
cmake<span class="w"> </span>-DWITH_F12<span class="o">=</span><span class="m">1</span><span class="w"> </span>-DWITH_RANGE_COULOMB<span class="o">=</span><span class="m">1</span><span class="w"> </span>-DWITH_COULOMB_ERF<span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-DCMAKE_INSTALL_PREFIX:PATH<span class="o">=</span>/opt<span class="w"> </span>-DCMAKE_INSTALL_LIBDIR:PATH<span class="o">=</span>lib<span class="w"> </span>..
make<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>make<span class="w"> </span>install

tar<span class="w"> </span>xvzf<span class="w"> </span>libxc-6.0.0.tar.gz
<span class="nb">cd</span><span class="w"> </span>libxc-6.0.0
mkdir<span class="w"> </span>build<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>build
cmake<span class="w"> </span>-DCMAKE_BUILD_TYPE<span class="o">=</span>RELEASE<span class="w"> </span>-DBUILD_SHARED_LIBS<span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-DENABLE_FORTRAN<span class="o">=</span><span class="m">0</span><span class="w"> </span>-DDISABLE_KXC<span class="o">=</span><span class="m">0</span><span class="w"> </span>-DDISABLE_LXC<span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-DCMAKE_INSTALL_PREFIX:PATH<span class="o">=</span>/opt<span class="w"> </span>-DCMAKE_INSTALL_LIBDIR:PATH<span class="o">=</span>lib<span class="w"> </span>..
make<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>make<span class="w"> </span>install

tar<span class="w"> </span>xvzf<span class="w"> </span>xcfun.tar.gz
<span class="nb">cd</span><span class="w"> </span>xcfun-cmake-3.5
mkdir<span class="w"> </span>build<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>build
cmake<span class="w"> </span>-DCMAKE_BUILD_TYPE<span class="o">=</span>RELEASE<span class="w"> </span>-DBUILD_SHARED_LIBS<span class="o">=</span><span class="m">1</span><span class="w"> </span>-DXCFUN_MAX_ORDER<span class="o">=</span><span class="m">3</span><span class="w"> </span>-DXCFUN_ENABLE_TESTS<span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-DCMAKE_INSTALL_PREFIX:PATH<span class="o">=</span>/opt<span class="w"> </span>-DCMAKE_INSTALL_LIBDIR:PATH<span class="o">=</span>lib<span class="w"> </span>..
make<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>make<span class="w"> </span>install
</pre></div>
</div>
<p>Next, compile PySCF,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>pyscf/pyscf/lib
mkdir<span class="w"> </span>build<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>build
cmake<span class="w"> </span>-DBUILD_LIBCINT<span class="o">=</span><span class="m">0</span><span class="w"> </span>-DBUILD_LIBXC<span class="o">=</span><span class="m">0</span><span class="w"> </span>-DBUILD_XCFUN<span class="o">=</span><span class="m">0</span><span class="w"> </span>-DCMAKE_INSTALL_PREFIX:PATH<span class="o">=</span>/opt<span class="w"> </span>..
make
</pre></div>
</div>
<p>Finally, update the <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> environment variable so that the Python
interpreter can find your installation of PySCF.</p>
</section>
<section id="using-optimized-blas">
<h3>Using optimized BLAS<a class="headerlink" href="#using-optimized-blas" title="Link to this heading">#</a></h3>
<p>The default installation tries to find the BLAS libraries
automatically. This automated setup script may end up linking the code
to slow versions of BLAS libraries, like the reference NETLIB
implementation. Using an optimized linear algebra library like ATLAS,
BLIS, or OpenBLAS may speed up certain parts of PySCF by factors of 10 to 1000.</p>
<p>You can compile PySCF against BLAS libraries from other vendors to
improve performance. For example, the Intel Math Kernel Library (MKL)
can provide a 10x speedup in many modules,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>pyscf/lib/build
cmake<span class="w"> </span>-DBLA_VENDOR<span class="o">=</span>Intel10_64lp_seq<span class="w"> </span>..
make
</pre></div>
</div>
<p>When linking the program to MKL, CMake may have problems finding the
correct MKL libraries for some versions of MKL.  Setting
<code class="docutils literal notranslate"><span class="pre">LD_LIBRARY_PATH</span></code> to include the MKL dynamic libraries can sometimes
help, for example,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/opt/intel/compilers_and_libraries_2018/linux/mkl/lib/intel64:<span class="nv">$LD_LIBRARY_PATH</span>
</pre></div>
</div>
<p>If you are using Anaconda, you can link PySCF to the MKL library shipped with Anaconda,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">MKLROOT</span><span class="o">=</span>/path/to/anaconda2
<span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="nv">$MKLROOT</span>/lib:<span class="nv">$LD_LIBRARY_PATH</span>
<span class="nb">cd</span><span class="w"> </span>pyscf/lib/build
cmake<span class="w"> </span>-DBLA_VENDOR<span class="o">=</span>Intel10_64lp_seq<span class="w"> </span>..
make
</pre></div>
</div>
<p>You can also link to other BLAS libraries by setting <code class="docutils literal notranslate"><span class="pre">BLA_VENDOR</span></code>,
e.g., <code class="docutils literal notranslate"><span class="pre">BLA_VENDOR=ATLAS</span></code>, <code class="docutils literal notranslate"><span class="pre">BLA_VENDOR=IBMESSL</span></code>,
<code class="docutils literal notranslate"><span class="pre">BLA_VENDOR=OpenBLAS</span></code> (requiring cmake-3.6).  Please refer to the
<a class="reference external" href="http://www.cmake.org/cmake/help/v3.6/module/FindBLAS.html%3E">CMake manual</a>
for more details on the use of the <code class="docutils literal notranslate"><span class="pre">FindBLAS</span></code> macro.</p>
<p>If setting the CMake <code class="docutils literal notranslate"><span class="pre">BLA_VENDOR</span></code> variable does not result in the
right BLAS library being chosen, you can specify the BLAS libraries to
use by hand by setting the <code class="docutils literal notranslate"><span class="pre">BLAS_LIBRARIES</span></code> CMake argument,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake<span class="w"> </span>-DBLAS_LIBRARIES<span class="o">=</span>-lopenblaso<span class="w"> </span>..
</pre></div>
</div>
<p>You can also hardcode the libraries you want to use in the file <code class="docutils literal notranslate"><span class="pre">lib/CMakeLists.txt</span></code>,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>set<span class="o">(</span>BLAS_LIBRARIES<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BLAS_LIBRARIES</span><span class="si">}</span><span class="s2">;/path/to/mkl/lib/intel64/libmkl_intel_lp64.so&quot;</span><span class="o">)</span>
set<span class="o">(</span>BLAS_LIBRARIES<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BLAS_LIBRARIES</span><span class="si">}</span><span class="s2">;/path/to/mkl/lib/intel64/libmkl_sequential.so&quot;</span><span class="o">)</span>
set<span class="o">(</span>BLAS_LIBRARIES<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BLAS_LIBRARIES</span><span class="si">}</span><span class="s2">;/path/to/mkl/lib/intel64/libmkl_core.so&quot;</span><span class="o">)</span>
set<span class="o">(</span>BLAS_LIBRARIES<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BLAS_LIBRARIES</span><span class="si">}</span><span class="s2">;/path/to/mkl/lib/intel64/libmkl_avx.so&quot;</span><span class="o">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The MKL library may lead to an OSError at runtime,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>OSError:<span class="w"> </span>...<span class="w"> </span>mkl/lib/intel64/libmkl_avx.so:<span class="w"> </span>undefined<span class="w"> </span>symbol:<span class="w"> </span>ownLastTriangle_64fc
</pre></div>
</div>
<p>or</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>MKL<span class="w"> </span>FATAL<span class="w"> </span>ERROR:<span class="w"> </span>Cannot<span class="w"> </span>load<span class="w"> </span>libmkl_avx.so<span class="w"> </span>or<span class="w"> </span>libmkl_def.so
</pre></div>
</div>
<p>This can be solved by preloading the MKL core library,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">LD_PRELOAD</span><span class="o">=</span><span class="nv">$MKLROOT</span>/lib/intel64/libmkl_avx.so:<span class="nv">$MKLROOT</span>/lib/intel64/libmkl_core.so
</pre></div>
</div>
</div>
</section>
<section id="using-the-qcint-optimized-integral-library">
<h3>Using the Qcint optimized integral library<a class="headerlink" href="#using-the-qcint-optimized-integral-library" title="Link to this heading">#</a></h3>
<p>The default integral library used by PySCF is
<a class="reference external" href="https://github.com/sunqm/libcint">libcint</a>, which is implemented within a
model that maximizes its compatibility with various high-performance
computing systems. However, on x86-64 platforms, libcint has a more
efficient counterpart, <a class="reference external" href="https://github.com/sunqm/qcint">Qcint</a>, which is
heavily optimized with x86 SIMD instructions (AVX-512/AVX2/AVX/SSE3).
To replace the default libcint library with the qcint library, edit the
URL of the integral library in <code class="docutils literal notranslate"><span class="pre">lib/CMakeLists.txt</span></code> file,</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">lib/CMakeLists.txt</span><a class="headerlink" href="#id1" title="Link to this code">#</a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ExternalProject_Add<span class="o">(</span>libcint
<span class="w">    </span>GIT_REPOSITORY
<span class="w">    </span>https://github.com/sunqm/qcint.git
<span class="w">     </span>...
</pre></div>
</div>
</div>
</section>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">error:</span> <span class="pre">command</span> <span class="pre">'cmake'</span> <span class="pre">failed</span></code></p></li>
</ul>
<p>In some cases, installing PySCF with <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pyscf</span></code> may raise an error like the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Building<span class="w"> </span>wheels<span class="w"> </span><span class="k">for</span><span class="w"> </span>collected<span class="w"> </span>packages:<span class="w"> </span>pyscf
<span class="w">  </span>Building<span class="w"> </span>wheel<span class="w"> </span><span class="k">for</span><span class="w"> </span>pyscf<span class="w"> </span><span class="o">(</span>setup.py<span class="o">)</span><span class="w"> </span>...<span class="w"> </span>error
<span class="w">  </span>error:<span class="w"> </span>subprocess-exited-with-error
<span class="w">  </span>×<span class="w"> </span>python<span class="w"> </span>setup.py<span class="w"> </span>bdist_wheel<span class="w"> </span>did<span class="w"> </span>not<span class="w"> </span>run<span class="w"> </span>successfully.
<span class="w">  </span>│<span class="w"> </span><span class="nb">exit</span><span class="w"> </span>code:<span class="w"> </span><span class="m">1</span>
<span class="w">  </span>╰─&gt;<span class="w"> </span><span class="o">[</span><span class="m">7</span><span class="w"> </span>lines<span class="w"> </span>of<span class="w"> </span>output<span class="o">]</span>
<span class="w">      </span>scipy&gt;1.1.0<span class="w"> </span>may<span class="w"> </span>crash<span class="w"> </span>when<span class="w"> </span>calling<span class="w"> </span>scipy.linalg.eigh.<span class="w"> </span><span class="o">(</span>Issues<span class="w"> </span>https://github.com/scipy/scipy/issues/15362<span class="w"> </span>https://github.com/scipy/scipy/issues/16151<span class="o">)</span>
<span class="w">      </span>running<span class="w"> </span>bdist_wheel
<span class="w">      </span>running<span class="w"> </span>build
<span class="w">      </span>running<span class="w"> </span>build_ext
<span class="w">      </span>Configuring<span class="w"> </span>extensions
<span class="w">      </span>cmake<span class="w"> </span>-S/Users/&lt;user&gt;/personal/codes/chemistry/pyscf/pyscf/lib<span class="w"> </span>-Bbuild/temp.macosx-12-x86_64-cpython-310
<span class="w">      </span>error:<span class="w"> </span><span class="nb">command</span><span class="w"> </span><span class="s1">&#39;cmake&#39;</span><span class="w"> </span>failed:<span class="w"> </span>No<span class="w"> </span>such<span class="w"> </span>file<span class="w"> </span>or<span class="w"> </span>directory
<span class="w">      </span><span class="o">[</span>end<span class="w"> </span>of<span class="w"> </span>output<span class="o">]</span>
</pre></div>
</div>
<p>Here, <code class="docutils literal notranslate"><span class="pre">pip</span></code> chose not to install a binary wheel and is trying to build from source.
If this is not your intention, you can use the command <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">--prefer-binary</span> <span class="pre">pyscf</span></code> to install the binary version.
On the other hand, if your intention is to build from source, this error message warns that you are missing the necessary <code class="docutils literal notranslate"><span class="pre">cmake</span></code> program.
For more details, see the documentation on building from source and issue <a class="reference external" href="https://github.com/pyscf/pyscf/issues/1684%3E">1684</a></p>
<ul class="simple">
<li><p>MacOS: <code class="docutils literal notranslate"><span class="pre">Library</span> <span class="pre">not</span> <span class="pre">loaded</span></code></p></li>
</ul>
<p>For Mac OS X/macOS, you may get an import error if your OS X/macOS version is 10.11 or newer.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>OSError:<span class="w"> </span>dlopen<span class="o">(</span>xxx/pyscf/pyscf/lib/libcgto.dylib,<span class="w"> </span><span class="m">6</span><span class="o">)</span>:<span class="w"> </span>Library<span class="w"> </span>not<span class="w"> </span>loaded:<span class="w"> </span>libcint.3.0.dylib
Referenced<span class="w"> </span>from:<span class="w"> </span>xxx/pyscf/pyscf/lib/libcgto.dylib
Reason:<span class="w"> </span>unsafe<span class="w"> </span>use<span class="w"> </span>of<span class="w"> </span>relative<span class="w"> </span>rpath<span class="w"> </span>libcint.3.0.dylib<span class="w"> </span><span class="k">in</span><span class="w"> </span>xxx/pyscf/pyscf/lib/libcgto.dylib<span class="w"> </span>with<span class="w"> </span>restricted<span class="w"> </span>binary
</pre></div>
</div>
<p>This is caused by the incorrect <code class="docutils literal notranslate"><span class="pre">RPATH</span></code> configuration in the dynamic library.
The script <code class="docutils literal notranslate"><span class="pre">pyscf/lib/_runme_to_fix_dylib_osx10.11.sh</span></code> in the <code class="docutils literal notranslate"><span class="pre">pyscf/lib</span></code> directory can be used to fix this problem:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>pyscf/lib
$<span class="w"> </span>sh<span class="w"> </span>_runme_to_fix_dylib_osx10.11.sh
</pre></div>
</div>
<p>This script eliminates the <code class="docutils literal notranslate"><span class="pre">rpath</span></code> code from the library header.
Another method to solve this issue is to set <code class="docutils literal notranslate"><span class="pre">-DCMAKE_SKIP_RPATH=1</span></code> and <code class="docutils literal notranslate"><span class="pre">-DCMAKE_MACOSX_RPATH=0</span></code> in the CMake command line.
After removing the <code class="docutils literal notranslate"><span class="pre">rpath</span></code> code, you need ensure that <code class="docutils literal notranslate"><span class="pre">pyscf/lib</span></code> and <code class="docutils literal notranslate"><span class="pre">pyscf/lib/deps/lib</span></code> are included in the <code class="docutils literal notranslate"><span class="pre">LD_LIBRARY_PATH</span></code> environment variable.</p>
</section>
</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#install-with-pip">Install with pip</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#build-from-source-with-pip">Build from source with pip</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#build-from-source">Build from source</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#install-with-conda">Install with conda</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#install-on-fedora">Install on Fedora</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#docker-image">Docker image</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#advanced-build-options">Advanced build options</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cmake-options">CMake options</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cmake-config-file">CMake config file</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#environment-variables-and-global-configurations">Environment variables and global configurations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#install-without-internet">Install without internet</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-optimized-blas">Using optimized BLAS</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-qcint-optimized-integral-library">Using the Qcint optimized integral library</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#troubleshooting">Troubleshooting</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://github.com/pyscf/pyscf.github.io/edit/master/source/user/install.md">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2025, The PySCF Developers.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.3.7.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>