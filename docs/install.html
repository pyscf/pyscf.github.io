<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="_static/javascripts/modernizr.js"></script>
  
  
  
    <title>Install PySCF &#8212; PySCF</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/material.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/pyscf.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="icon" href="_static/favicon-32x32.png"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Quickstart" href="quickstart.html" />
    <link rel="prev" title="Home" href="index.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=pyscf data-md-color-accent=pyscf>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#install" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="index.html" title="PySCF"
           class="md-header-nav__button md-logo">
          
            &nbsp;
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">PySCF 2.3</span>
          <span class="md-header-nav__topic"> Install PySCF </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            <a href="https://github.com/pyscf/pyscf/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    PySCF
  </div>
</a>
          </div>
        </div>
      
      
  
  <script src="_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = ""versions.json"",
        target_loc = "../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
            
            <li class="md-tabs__item"><a href="index.html" class="md-tabs__link">Home</a></li>
            
            <li class="md-tabs__item"><a href="#" class="md-tabs__link">Install</a></li>
            
            <li class="md-tabs__item"><a href="quickstart.html" class="md-tabs__link">Quickstart</a></li>
            
            <li class="md-tabs__item"><a href="user.html" class="md-tabs__link">User Guide</a></li>
            
            <li class="md-tabs__item"><a href="develop.html" class="md-tabs__link">Developer Guide</a></li>
            
            <li class="md-tabs__item"><a href="pyscf_api_docs/modules.html" class="md-tabs__link">API</a></li>
            
            <li class="md-tabs__item"><a href="about.html" class="md-tabs__link">About</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="index.html" title="PySCF" class="md-nav__button md-logo">
      
        <img src="_static/" alt=" logo" width="48" height="48">
      
    </a>
    <a href="index.html"
       title="PySCF">PySCF 2.3</a>
  </label>
    <div class="md-nav__source">
      <a href="https://github.com/pyscf/pyscf/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    PySCF
  </div>
</a>
    </div>
  
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> Install PySCF </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">Install PySCF</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#install--page-root" class="md-nav__link">Install PySCF</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#install-with-pip-easiest-method" class="md-nav__link">1) Install with <cite>pip</cite> (easiest method)</a>
        </li>
        <li class="md-nav__item"><a href="#build-from-source-with-pip" class="md-nav__link">2) Build from source with <cite>pip</cite></a>
        </li>
        <li class="md-nav__item"><a href="#build-from-source" class="md-nav__link">3) Build from source</a>
        </li>
        <li class="md-nav__item"><a href="#installation-with-conda" class="md-nav__link">4) Installation with conda</a>
        </li>
        <li class="md-nav__item"><a href="#installation-on-fedora" class="md-nav__link">5) Installation on Fedora</a>
        </li>
        <li class="md-nav__item"><a href="#pyscf-docker-image" class="md-nav__link">6) PySCF docker image</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#advanced-build-options" class="md-nav__link">Advanced build options</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#cmake-options" class="md-nav__link">CMake options</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#cmake-config-file" class="md-nav__link">CMake config file</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#environment-variables-and-global-configures" class="md-nav__link">Environment variables and global configures</a>
        </li>
        <li class="md-nav__item"><a href="#installation-without-network" class="md-nav__link">Installation without network</a>
        </li>
        <li class="md-nav__item"><a href="#using-optimized-blas" class="md-nav__link">Using optimized BLAS</a>
        </li>
        <li class="md-nav__item"><a href="#using-optimized-integral-library" class="md-nav__link">Using optimized integral library</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#install-pyscf-extensions" class="md-nav__link">Install PySCF extensions</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#extension-modules" class="md-nav__link">Extension modules</a>
        </li>
        <li class="md-nav__item"><a href="#install-extensions" class="md-nav__link">Install extensions</a>
        </li>
        <li class="md-nav__item"><a href="#install-extensions-advanced" class="md-nav__link">Install extensions (advanced)</a>
        </li>
        <li class="md-nav__item"><a href="#common-examples" class="md-nav__link">Common examples</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#dmrg-solvers" class="md-nav__link">DMRG solvers</a>
        </li>
        <li class="md-nav__item"><a href="#tblis" class="md-nav__link">TBLIS</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#troubleshooting" class="md-nav__link">Troubleshooting</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#error-command-cmake-failed" class="md-nav__link"><cite>error: command ‘cmake’ failed</cite></a>
        </li>
        <li class="md-nav__item"><a href="#macos-library-not-loaded" class="md-nav__link">MacOS: <cite>Library not loaded</cite></a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="_sources/install.rst.txt">Show Source</a> </li>

  </ul>
</nav>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="#install-with-pip-easiest-method" class="md-nav__link">1) Install with <cite>pip</cite> (easiest method)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#build-from-source-with-pip" class="md-nav__link">2) Build from source with <cite>pip</cite></a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#build-from-source" class="md-nav__link">3) Build from source</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#installation-with-conda" class="md-nav__link">4) Installation with conda</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#installation-on-fedora" class="md-nav__link">5) Installation on Fedora</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#pyscf-docker-image" class="md-nav__link">6) PySCF docker image</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#advanced-build-options" class="md-nav__link">Advanced build options</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="#cmake-options" class="md-nav__link">CMake options</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#environment-variables-and-global-configures" class="md-nav__link">Environment variables and global configures</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#installation-without-network" class="md-nav__link">Installation without network</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#using-optimized-blas" class="md-nav__link">Using optimized BLAS</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#using-optimized-integral-library" class="md-nav__link">Using optimized integral library</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#install-pyscf-extensions" class="md-nav__link">Install PySCF extensions</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="#extension-modules" class="md-nav__link">Extension modules</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#install-extensions" class="md-nav__link">Install extensions</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#install-extensions-advanced" class="md-nav__link">Install extensions (advanced)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#common-examples" class="md-nav__link">Common examples</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#troubleshooting" class="md-nav__link">Troubleshooting</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="#error-command-cmake-failed" class="md-nav__link"><cite>error: command ‘cmake’ failed</cite></a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#macos-library-not-loaded" class="md-nav__link">MacOS: <cite>Library not loaded</cite></a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="quickstart.html" class="md-nav__link">Quickstart</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="user.html" class="md-nav__link">User Guide</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="develop.html" class="md-nav__link">Developer Guide</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="pyscf_api_docs/pyscf.html" class="md-nav__link">API</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="about.html" class="md-nav__link">About</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#install--page-root" class="md-nav__link">Install PySCF</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#install-with-pip-easiest-method" class="md-nav__link">1) Install with <cite>pip</cite> (easiest method)</a>
        </li>
        <li class="md-nav__item"><a href="#build-from-source-with-pip" class="md-nav__link">2) Build from source with <cite>pip</cite></a>
        </li>
        <li class="md-nav__item"><a href="#build-from-source" class="md-nav__link">3) Build from source</a>
        </li>
        <li class="md-nav__item"><a href="#installation-with-conda" class="md-nav__link">4) Installation with conda</a>
        </li>
        <li class="md-nav__item"><a href="#installation-on-fedora" class="md-nav__link">5) Installation on Fedora</a>
        </li>
        <li class="md-nav__item"><a href="#pyscf-docker-image" class="md-nav__link">6) PySCF docker image</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#advanced-build-options" class="md-nav__link">Advanced build options</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#cmake-options" class="md-nav__link">CMake options</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#cmake-config-file" class="md-nav__link">CMake config file</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#environment-variables-and-global-configures" class="md-nav__link">Environment variables and global configures</a>
        </li>
        <li class="md-nav__item"><a href="#installation-without-network" class="md-nav__link">Installation without network</a>
        </li>
        <li class="md-nav__item"><a href="#using-optimized-blas" class="md-nav__link">Using optimized BLAS</a>
        </li>
        <li class="md-nav__item"><a href="#using-optimized-integral-library" class="md-nav__link">Using optimized integral library</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#install-pyscf-extensions" class="md-nav__link">Install PySCF extensions</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#extension-modules" class="md-nav__link">Extension modules</a>
        </li>
        <li class="md-nav__item"><a href="#install-extensions" class="md-nav__link">Install extensions</a>
        </li>
        <li class="md-nav__item"><a href="#install-extensions-advanced" class="md-nav__link">Install extensions (advanced)</a>
        </li>
        <li class="md-nav__item"><a href="#common-examples" class="md-nav__link">Common examples</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#dmrg-solvers" class="md-nav__link">DMRG solvers</a>
        </li>
        <li class="md-nav__item"><a href="#tblis" class="md-nav__link">TBLIS</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#troubleshooting" class="md-nav__link">Troubleshooting</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#error-command-cmake-failed" class="md-nav__link"><cite>error: command ‘cmake’ failed</cite></a>
        </li>
        <li class="md-nav__item"><a href="#macos-library-not-loaded" class="md-nav__link">MacOS: <cite>Library not loaded</cite></a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="_sources/install.rst.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="install-pyscf">
<span id="installing"></span><h1 id="install--page-root">Install PySCF<a class="headerlink" href="#install--page-root" title="Permalink to this heading">¶</a></h1>
<section id="install-with-pip-easiest-method">
<h2 id="install-with-pip-easiest-method">1) Install with <cite>pip</cite> (easiest method)<a class="headerlink" href="#install-with-pip-easiest-method" title="Permalink to this heading">¶</a></h2>
<p>This is the recommended way to install PySCF for non-developers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install --prefer-binary pyscf
</pre></div>
</div>
<p>The pip package provides a precompiled PySCF code (python wheel) which
works on almost all Linux systems, and most of Mac OS X systems, and
the Ubuntu subsystems on Windows 10. If you already have installed
PySCF via pip, you can upgrade it to the new version with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install --upgrade pyscf
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since PySCF version 2.1, the Linux wheels require manylinux2010 (for x86_64) or manylinux2014 (for aarch64). So the pip version should &gt;= 19.3 for installing on Linux.</p>
</div>
</section>
<section id="build-from-source-with-pip">
<h2 id="build-from-source-with-pip">2) Build from source with <cite>pip</cite><a class="headerlink" href="#build-from-source-with-pip" title="Permalink to this heading">¶</a></h2>
<p>If you’re interested in a new feature, that’s not included in the latest release or you simply
want the latest and greatest PySCF you can build from source using pip.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install git+https://github.com/pyscf/pyscf
</pre></div>
</div>
<p>To install the features developed on a particular branch use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install git+https://github.com/pyscf/pyscf@&lt;branch_name&gt;
</pre></div>
</div>
<p>This install method compiles and links C extensions against the
libraries in your system. See <a class="reference internal" href="#compile-c-extensions"><span class="std std-ref">3) Build from source</span></a> for a full
list of prerequisites. If you would like to tune the CMake compilation
parameters, you can set them with the environment variable <cite>CMAKE_CONFIGURE_ARGS</cite>,
for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ export CMAKE_CONFIGURE_ARGS="-DBUILD_MARCH_NATIVE=ON"
</pre></div>
</div>
<p>See <a class="reference internal" href="#cmake-options"><span class="std std-ref">CMake options</span></a> for more details about CMake configuration.</p>
</section>
<section id="build-from-source">
<span id="compile-c-extensions"></span><h2 id="build-from-source">3) Build from source<a class="headerlink" href="#build-from-source" title="Permalink to this heading">¶</a></h2>
<p>Prerequisites for manual install are</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>C compiler</p></li>
<li><p>C++ compiler (optional, but required for XCFun and some extensions)</p></li>
<li><p>CMake &gt;= 3.10</p></li>
<li><p>Python &gt;= 3.6</p></li>
<li><p>Numpy &gt;= 1.13</p></li>
<li><p>Scipy &gt;= 0.19</p></li>
<li><p>h5py &gt;= 2.7</p></li>
</ul>
</div>
<p>You can download the latest version of PySCF (or the development
branch) from github:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/pyscf/pyscf.git
$ cd pyscf
</pre></div>
</div>
<p>Next, you need to build the C extensions in <code class="file docutils literal notranslate"><span class="pre">pyscf/lib</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd pyscf/lib
$ mkdir build
$ cd build
$ cmake ..
$ make
</pre></div>
</div>
<p>This will automatically download the analytical GTO integral library
<a class="reference external" href="https://github.com/sunqm/libcint.git">libcint</a> and the DFT exchange
correlation functional libraries <a class="reference external" href="http://www.tddft.org/programs/Libxc">Libxc</a> and <a class="reference external" href="https://github.com/dftlibs/xcfun.git">XCFun</a>.  Finally, to allow Python to
find the <cite>pyscf</cite> package, add the top-level <cite>pyscf</cite> directory (not the
<cite>pyscf/pyscf</cite> subdirectory) to <cite>PYTHONPATH</cite>.  For example, if <cite>pyscf</cite>
is installed in <code class="docutils literal notranslate"><span class="pre">/opt</span></code>, you adjust <cite>PYTHONPATH</cite> with something
like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>export PYTHONPATH=/opt/pyscf:$PYTHONPATH
</pre></div>
</div>
<p>To ensure that the installation was successful, you can start a Python
shell, and type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pyscf</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="#cmake-options"><span class="std std-ref">CMake options</span></a> for details about CMake configuration.</p>
</section>
<section id="installation-with-conda">
<h2 id="installation-with-conda">4) Installation with conda<a class="headerlink" href="#installation-with-conda" title="Permalink to this heading">¶</a></h2>
<p>If you have a <a class="reference external" href="https://conda.io/docs/">Conda</a> (or <a class="reference external" href="https://www.continuum.io/downloads#linux">Anaconda</a>) environment, PySCF
package can be installed from the Conda cloud
(for Linux and Mac OS X systems):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conda install -c pyscf pyscf
</pre></div>
</div>
<p>Extension modules are not available on the Conda cloud. They should be
installed either with pip, or through the environment variable
<cite>PYSCF_EXT_PATH</cite> (see the section <a class="reference internal" href="#installing-extproj"><span class="std std-ref">Install PySCF extensions</span></a>).</p>
</section>
<section id="installation-on-fedora">
<h2 id="installation-on-fedora">5) Installation on Fedora<a class="headerlink" href="#installation-on-fedora" title="Permalink to this heading">¶</a></h2>
<p>If you are running Fedora Linux, you can install PySCF as a
distribution package:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># dnf install python3-pyscf</span>
</pre></div>
</div>
<p>If you are running on an X86-64 platform, dnf should automatically
install the optimized integral library, qcint, instead of the
cross-platform libcint library.</p>
<p>Extension modules are not available in the Fedora package.</p>
</section>
<section id="pyscf-docker-image">
<h2 id="pyscf-docker-image">6) PySCF docker image<a class="headerlink" href="#pyscf-docker-image" title="Permalink to this heading">¶</a></h2>
<p>The following command starts a container with the jupyter notebook
server that listens for HTTP connections on port 8888:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ docker run -it -p 8888:8888 pyscf/pyscf:latest
</pre></div>
</div>
<p>Now, you can visit <code class="docutils literal notranslate"><span class="pre">https://localhost:8888</span></code> with your browser to use
PySCF in the notebook.</p>
<p>Another way to use PySCF in a docker container is to start an Ipython
shell:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ docker run -it pyscf/pyscf:latest start.sh ipython
</pre></div>
</div>
</section>
</section>
<section id="advanced-build-options">
<h1 id="advanced-build-options">Advanced build options<a class="headerlink" href="#advanced-build-options" title="Permalink to this heading">¶</a></h1>
<section id="cmake-options">
<span id="id1"></span><h2 id="cmake-options">CMake options<a class="headerlink" href="#cmake-options" title="Permalink to this heading">¶</a></h2>
<p>A full build of PySCF may take a long time to finish.
<cite>XCFun</cite> may fail to build if a proper C++ compiler is not available, such as on certain old operating systems.
The CMake options listed below can be used to speed up compilation or omit extensions that fail to compile.
Note:  If both <cite>-DENABLE_LIBXC=OFF</cite> and <cite>-DENABLE_XCFUN=OFF</cite> are set, importing the dft module will lead to an <cite>ImportError</cite>.</p>
<table>
<thead>
<tr class="row-odd"><th class="head"><p>Flags</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><cite>ENABLE_LIBXC</cite></p></td>
<td><p>ON</p></td>
<td><p>Whether to use <cite>LibXC</cite> library in PySCF. If <cite>-DENABLE_LIBXC=OFF</cite>
is appended to cmake command, <cite>LibXC</cite> will not be compiled.</p></td>
</tr>
<tr class="row-odd"><td><p><cite>ENABLE_XCFUN</cite></p></td>
<td><p>ON</p></td>
<td><p>Whether to use <cite>XCFun</cite> library in PySCF. If <cite>-DENABLE_XCFUN=OFF</cite>
is appended to cmake command, <cite>XCFun</cite> will not be compiled.</p></td>
</tr>
<tr class="row-even"><td><p><cite>BUILD_LIBXC</cite></p></td>
<td><p>ON</p></td>
<td><p>Set it to <cite>OFF</cite> to skip compiling <cite>Libxc</cite>. The dft module
still calls <cite>LibXC</cite> library by default. The dft module will be
linked against the <cite>LibXC</cite> library from an earlier build.</p></td>
</tr>
<tr class="row-odd"><td><p><cite>BUILD_XCFUN</cite></p></td>
<td><p>ON</p></td>
<td><p>Set it to <cite>OFF</cite> to skip compiling <cite>XCFun</cite>. The dft module
will be linked against the <cite>XCFun</cite> library from an earlier build.</p></td>
</tr>
<tr class="row-even"><td><p><cite>BUILD_LIBCINT</cite></p></td>
<td><p>ON</p></td>
<td><p>Set it to <cite>OFF</cite> to skip compiling <cite>libcint</cite>. The integral
library from an earlier build will be used.</p></td>
</tr>
<tr class="row-odd"><td><p><cite>WITH_F12</cite></p></td>
<td><p>ON</p></td>
<td><p>Whether to compile the F12 integrals.</p></td>
</tr>
<tr class="row-even"><td><p><cite>DISABLE_DFT</cite></p></td>
<td><p>OFF</p></td>
<td><p>Set this flag to skip the entire dft module. Neither <cite>LibXC</cite>
nor <cite>XCFun</cite> will be compiled.</p></td>
</tr>
<tr class="row-odd"><td><p><cite>BUILD_MARCH_NATIVE</cite></p></td>
<td><p>OFF</p></td>
<td><p>Whether to let the compiler optimize the code against CPU
architecture</p></td>
</tr>
</tbody>
</table>
<section id="cmake-config-file">
<h3 id="cmake-config-file">CMake config file<a class="headerlink" href="#cmake-config-file" title="Permalink to this heading">¶</a></h3>
<p>CMake options can be saved in a configuration file
<code class="docutils literal notranslate"><span class="pre">pyscf/lib/cmake.arch.inc</span></code>.  The settings in this file will be
automatically loaded and overwrite the default CMake options during
compilation.  For example, you can set <code class="docutils literal notranslate"><span class="pre">CMAKE_C_FLAGS</span></code> in this file
to include advanced compiler optimization flags:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="p">(</span><span class="n">CMAKE_C_FLAGS</span> <span class="s2">"$</span><span class="si">{CMAKE_C_FLAGS}</span><span class="s2"> -ffast-math -mtune=native -march=native"</span><span class="p">)</span>
</pre></div>
</div>
<p>Other settings, variables, and flags can also be set in this file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="p">(</span><span class="n">ENABLE_XCFUN</span> <span class="n">Off</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="n">WITH_F12</span> <span class="n">Off</span><span class="p">)</span>
</pre></div>
</div>
<p>Some examples of platform-specific configurations can be found in
directory <code class="docutils literal notranslate"><span class="pre">pyscf/lib/cmake_user_inc_examples</span></code>.</p>
</section>
</section>
<section id="environment-variables-and-global-configures">
<h2 id="environment-variables-and-global-configures">Environment variables and global configures<a class="headerlink" href="#environment-variables-and-global-configures" title="Permalink to this heading">¶</a></h2>
<table>
<thead>
<tr class="row-odd"><th class="head"><p>Env variable</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><cite>PYSCF_MAX_MEMORY</cite></p></td>
<td><p>Maximum memory to use in MB</p></td>
</tr>
<tr class="row-odd"><td><p><cite>PYSCF_TMPDIR</cite></p></td>
<td><p>Directory for temporary files</p></td>
</tr>
<tr class="row-even"><td><p><cite>PYSCF_CONFIG_FILE</cite></p></td>
<td><p>File where various PySCF default settings are stored</p></td>
</tr>
<tr class="row-odd"><td><p><cite>PYSCF_EXT_PATH</cite></p></td>
<td><p>Path for finding external extensions</p></td>
</tr>
</tbody>
</table>
<p><cite>PYSCF_MAX_MEMORY</cite> sets the default maximum memory in MB when creating
<cite>Mole</cite> (or <cite>Cell</cite>) object. It corresponds to the attribute
<cite>max_memory``of Mole</cite> (or <cite>Cell</cite>) object.</p>
<p>The environment variable <cite>PYSCF_TMPDIR</cite> controls which directory is
used to store intermediate files and temporary data when PySCF is run;
it is also commonly known as the scratch directory. If this
environment variable is not set, the system-wide temporary directory
<cite>TMPDIR</cite> will be used as the temp directory, instead. It is highly
recommended to set this variable to a directory with enough disk
space, as many quantum chemistry methods may consume a huge amount of
temporary storage space. It is equally important that the scratch
directory has fast i/o: for instance, using a network-mounted scratch
disk is often much slower than local disks.</p>
<p><cite>PYSCF_CONFIG_FILE</cite> is a Python file that can be used to predefine and
override several default parameters in the program: you may already
have noticed statements like <cite>getattr(__config__, “FOOBAR”)</cite> many
places in the source code. These global parameters are defined in
<cite>PYSCF_CONFIG_FILE</cite> and loaded when the pyscf module is imported.  By
default, this environment variable points to <cite>~/.pyscf_conf.py</cite>.</p>
<p><cite>PYSCF_EXT_PATH</cite> allows PySCF to find any possible extension
packages. This is documented in detail in <a class="reference internal" href="#installing-extproj"><span class="std std-ref">Install PySCF extensions</span></a>.</p>
</section>
<section id="installation-without-network">
<span id="installing-wo-network"></span><h2 id="installation-without-network">Installation without network<a class="headerlink" href="#installation-without-network" title="Permalink to this heading">¶</a></h2>
<p>In the usual case, all external libraries (libcint, libxc, xcfun) are
downloaded and installed when the C extensions are compiled, thus
requiring network access. In this section, we show how to install the
external libraries without accessing to network. First, you need to
download the libcint, Libxc, and XCFun libraries:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/sunqm/libcint.git
$ tar czf libcint.tar.gz libcint

$ wget https://gitlab.com/libxc/libxc/-/archive/6.0.0/libxc-6.0.0.tar.gz

$ wget -O xcfun.tar.gz https://github.com/fishjojo/xcfun/archive/refs/tags/cmake-3.5.tar.gz
</pre></div>
</div>
<p>Assuming <code class="docutils literal notranslate"><span class="pre">/opt</span></code> is the place where these libraries will be installed, these
packages should be compiled with the flags:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ tar xvzf libcint.tar.gz
$ cd libcint
$ mkdir build &amp;&amp; cd build
$ cmake -DWITH_F12=1 -DWITH_RANGE_COULOMB=1 -DWITH_COULOMB_ERF=1 \
    -DCMAKE_INSTALL_PREFIX:PATH=/opt -DCMAKE_INSTALL_LIBDIR:PATH=lib ..
$ make &amp;&amp; make install

$ tar xvzf libxc-6.0.0.tar.gz
$ cd libxc-6.0.0
$ mkdir build &amp;&amp; cd build
$ cmake -DCMAKE_BUILD_TYPE=RELEASE -DBUILD_SHARED_LIBS=1 \
    -DENABLE_FORTRAN=0 -DDISABLE_KXC=0 -DDISABLE_LXC=1 \
    -DCMAKE_INSTALL_PREFIX:PATH=/opt -DCMAKE_INSTALL_LIBDIR:PATH=lib ..
$ make &amp;&amp; make install

$ tar xvzf xcfun.tar.gz
$ cd xcfun-cmake-3.5
$ mkdir build &amp;&amp; cd build
$ cmake -DCMAKE_BUILD_TYPE=RELEASE -DBUILD_SHARED_LIBS=1 -DXCFUN_MAX_ORDER=3 -DXCFUN_ENABLE_TESTS=0 \
    -DCMAKE_INSTALL_PREFIX:PATH=/opt -DCMAKE_INSTALL_LIBDIR:PATH=lib ..
$ make &amp;&amp; make install
</pre></div>
</div>
<p>Next, you can compile PySCF:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd pyscf/pyscf/lib
$ mkdir build &amp;&amp; cd build
$ cmake -DBUILD_LIBCINT=0 -DBUILD_LIBXC=0 -DBUILD_XCFUN=0 -DCMAKE_INSTALL_PREFIX:PATH=/opt ..
$ make
</pre></div>
</div>
<p>Finally, you should update the <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> environment variable so
that the Python interpreter can find your installation of PySCF.</p>
</section>
<section id="using-optimized-blas">
<span id="installing-blas"></span><h2 id="using-optimized-blas">Using optimized BLAS<a class="headerlink" href="#using-optimized-blas" title="Permalink to this heading">¶</a></h2>
<p>The default installation tries to find the BLAS libraries
automatically. This automated setup script may end up linking the code
to slow versions of BLAS libraries, like the reference NETLIB
implementation. Using an optimized linear algebra library like ATLAS,
BLIS or OpenBLAS may, however, speed up certain parts of PySCF by
orders of magnitudes; speedups by a factor of 1000x over the reference
implementation are not uncommon.</p>
<p>You can compile PySCF against BLAS libraries from other vendors to
improve performance. For example, the Intel Math Kernel Library (MKL)
can provide a 10x speedup in many modules:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd pyscf/lib/build
$ cmake -DBLA_VENDOR=Intel10_64lp_seq ..
$ make
</pre></div>
</div>
<p>When linking the program to MKL, CMake may have problems to find the
correct MKL libraries for some versions of MKL.  Setting
<code class="docutils literal notranslate"><span class="pre">LD_LIBRARY_PATH</span></code> to include the MKL dynamic libraries can sometimes
help, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>export LD_LIBRARY_PATH=/opt/intel/compilers_and_libraries_2018/linux/mkl/lib/intel64:$LD_LIBRARY_PATH
</pre></div>
</div>
<p>If you are using Anaconda as your Python-side platform, you can link
PySCF to the MKL library shipped with Anaconda:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ export MKLROOT=/path/to/anaconda2
$ export LD_LIBRARY_PATH=$MKLROOT/lib:$LD_LIBRARY_PATH
$ cd pyscf/lib/build
$ cmake -DBLA_VENDOR=Intel10_64lp_seq ..
$ make
</pre></div>
</div>
<p>You can also link to other BLAS libraries by setting <code class="docutils literal notranslate"><span class="pre">BLA_VENDOR</span></code>,
eg <code class="docutils literal notranslate"><span class="pre">BLA_VENDOR=ATLAS</span></code>, <code class="docutils literal notranslate"><span class="pre">BLA_VENDOR=IBMESSL</span></code>,
<code class="docutils literal notranslate"><span class="pre">BLA_VENDOR=OpenBLAS</span></code> (requiring cmake-3.6).  Please refer to the
<a class="reference external" href="http://www.cmake.org/cmake/help/v3.6/module/FindBLAS.html">cmake manual</a> for more
details on the use of the <code class="docutils literal notranslate"><span class="pre">FindBLAS</span></code> macro.</p>
<p>If setting the CMake <code class="docutils literal notranslate"><span class="pre">BLA_VENDOR</span></code> variable does not result in the
right BLAS library being chosen, you can specify the BLAS libraries to
use by hand by setting the <code class="docutils literal notranslate"><span class="pre">BLAS_LIBRARIES</span></code> CMake argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cmake -DBLAS_LIBRARIES=-lopenblaso ..
</pre></div>
</div>
<p>You can also hardcode the libraries you want to use in
<code class="file docutils literal notranslate"><span class="pre">lib/CMakeLists.txt</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="p">(</span><span class="n">BLAS_LIBRARIES</span> <span class="s2">"$</span><span class="si">{BLAS_LIBRARIES}</span><span class="s2">;/path/to/mkl/lib/intel64/libmkl_intel_lp64.so"</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="n">BLAS_LIBRARIES</span> <span class="s2">"$</span><span class="si">{BLAS_LIBRARIES}</span><span class="s2">;/path/to/mkl/lib/intel64/libmkl_sequential.so"</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="n">BLAS_LIBRARIES</span> <span class="s2">"$</span><span class="si">{BLAS_LIBRARIES}</span><span class="s2">;/path/to/mkl/lib/intel64/libmkl_core.so"</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="n">BLAS_LIBRARIES</span> <span class="s2">"$</span><span class="si">{BLAS_LIBRARIES}</span><span class="s2">;/path/to/mkl/lib/intel64/libmkl_avx.so"</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>MKL library may lead to an OSError at runtime:
<code class="docutils literal notranslate"><span class="pre">OSError:</span> <span class="pre">...</span> <span class="pre">mkl/lib/intel64/libmkl_avx.so:</span> <span class="pre">undefined</span> <span class="pre">symbol:</span> <span class="pre">ownLastTriangle_64fc</span></code>
or <code class="docutils literal notranslate"><span class="pre">MKL</span> <span class="pre">FATAL</span> <span class="pre">ERROR:</span> <span class="pre">Cannot</span> <span class="pre">load</span> <span class="pre">libmkl_avx.so</span> <span class="pre">or</span> <span class="pre">libmkl_def.so.</span></code>.
It can be solved by preloading MKL core library with:
<code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">LD_PRELOAD=$MKLROOT/lib/intel64/libmkl_avx.so:$MKLROOT/lib/intel64/libmkl_core.so</span></code></p>
</div>
</section>
<section id="using-optimized-integral-library">
<span id="installing-qcint"></span><h2 id="using-optimized-integral-library">Using optimized integral library<a class="headerlink" href="#using-optimized-integral-library" title="Permalink to this heading">¶</a></h2>
<p>The default integral library used by PySCF is libcint
(<a class="reference external" href="https://github.com/sunqm/libcint">https://github.com/sunqm/libcint</a>), which is implemented within a
model that maximizes its compatibility with various high performance
computer systems. On X86-64 platforms, however, libcint has a more
efficient counterpart, Qcint (<a class="reference external" href="https://github.com/sunqm/qcint">https://github.com/sunqm/qcint</a>) which is
heavily optimized with X86 SIMD instructions (AVX-512/AVX2/AVX/SSE3).
To replace the default libcint library with qcint library, edit the
URL of the integral library in lib/CMakeLists.txt file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ExternalProject_Add</span><span class="p">(</span><span class="n">libcint</span>
   <span class="n">GIT_REPOSITORY</span>
   <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">sunqm</span><span class="o">/</span><span class="n">qcint</span><span class="o">.</span><span class="n">git</span>
   <span class="o">...</span>
</pre></div>
</div>
</section>
</section>
<section id="install-pyscf-extensions">
<span id="installing-extproj"></span><h1 id="install-pyscf-extensions">Install PySCF extensions<a class="headerlink" href="#install-pyscf-extensions" title="Permalink to this heading">¶</a></h1>
<section id="extension-modules">
<h2 id="extension-modules">Extension modules<a class="headerlink" href="#extension-modules" title="Permalink to this heading">¶</a></h2>
<p>As of PySCF-2.0, some modules have been moved from the main code trunk
to extension projects hosted at <a class="reference external" href="https://github.com/pyscf">https://github.com/pyscf</a>.</p>
<table>
<thead>
<tr class="row-odd"><th class="head"><p>Project</p></th>
<th class="head"><p>URL</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>cornell-shci</p></td>
<td><p><a class="reference external" href="https://github.com/pyscf/cornell-shci">https://github.com/pyscf/cornell-shci</a></p></td>
</tr>
<tr class="row-odd"><td><p>dftd3</p></td>
<td><p><a class="reference external" href="https://github.com/pyscf/dftd3">https://github.com/pyscf/dftd3</a></p></td>
</tr>
<tr class="row-even"><td><p>dmrgscf</p></td>
<td><p><a class="reference external" href="https://github.com/pyscf/dmrgscf">https://github.com/pyscf/dmrgscf</a></p></td>
</tr>
<tr class="row-odd"><td><p>doci</p></td>
<td><p><a class="reference external" href="https://github.com/pyscf/doci">https://github.com/pyscf/doci</a></p></td>
</tr>
<tr class="row-even"><td><p>fciqmc</p></td>
<td><p><a class="reference external" href="https://github.com/pyscf/fciqmc">https://github.com/pyscf/fciqmc</a></p></td>
</tr>
<tr class="row-odd"><td><p>icmpspt</p></td>
<td><p><a class="reference external" href="https://github.com/pyscf/icmpspt">https://github.com/pyscf/icmpspt</a></p></td>
</tr>
<tr class="row-even"><td><p>mbd</p></td>
<td><p><a class="reference external" href="https://github.com/pyscf/mbd">https://github.com/pyscf/mbd</a></p></td>
</tr>
<tr class="row-odd"><td><p>naive-hci</p></td>
<td><p><a class="reference external" href="https://github.com/pyscf/naive-hci">https://github.com/pyscf/naive-hci</a></p></td>
</tr>
<tr class="row-even"><td><p>nao</p></td>
<td><p><a class="reference external" href="https://github.com/pyscf/nao">https://github.com/pyscf/nao</a></p></td>
</tr>
<tr class="row-odd"><td><p>qsdopt</p></td>
<td><p><a class="reference external" href="https://github.com/pyscf/qsdopt">https://github.com/pyscf/qsdopt</a></p></td>
</tr>
<tr class="row-even"><td><p>rt</p></td>
<td><p><a class="reference external" href="https://github.com/pyscf/rt">https://github.com/pyscf/rt</a></p></td>
</tr>
<tr class="row-odd"><td><p>semiempirical</p></td>
<td><p><a class="reference external" href="https://github.com/pyscf/semiempirical">https://github.com/pyscf/semiempirical</a></p></td>
</tr>
<tr class="row-even"><td><p>shciscf</p></td>
<td><p><a class="reference external" href="https://github.com/pyscf/shciscf">https://github.com/pyscf/shciscf</a></p></td>
</tr>
<tr class="row-odd"><td><p>zquatev</p></td>
<td><p><a class="reference external" href="https://github.com/sunqm/zquatev">https://github.com/sunqm/zquatev</a></p></td>
</tr>
<tr class="row-even"><td><p>tblis</p></td>
<td><p><a class="reference external" href="https://github.com/pyscf/pyscf-tblis">https://github.com/pyscf/pyscf-tblis</a></p></td>
</tr>
</tbody>
</table>
</section>
<section id="install-extensions">
<h2 id="install-extensions">Install extensions<a class="headerlink" href="#install-extensions" title="Permalink to this heading">¶</a></h2>
<p>Since PySCF version 2.0, some modules are developed independently; see
<a class="reference internal" href="#installing-extproj"><span class="std std-ref">Install PySCF extensions</span></a>. Individual extension modules (for example
the geometry optimization module) can be installed using pip’s extra
dependency mechanism:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install pyscf[geomopt]
</pre></div>
</div>
<p>All extension modules can be installed with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install pyscf[all]
</pre></div>
</div>
<p>The extension modules can be found in <cite>https://github.com/pyscf</cite> (see
also <a class="reference internal" href="#installing-extproj"><span class="std std-ref">Install PySCF extensions</span></a>).</p>
</section>
<section id="install-extensions-advanced">
<h2 id="install-extensions-advanced">Install extensions (advanced)<a class="headerlink" href="#install-extensions-advanced" title="Permalink to this heading">¶</a></h2>
<p>Based on the technique of namespace packages specified in <a class="reference external" href="https://www.python.org/dev/peps/pep-0420/">PEP 420</a>, PySCF has developed a
couple of methods to install the extension modules.</p>
<ul>
<li><p>Pip command. For pip version newer than 19.0, projects hosted on
GitHub can be installed on the command line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install git+https://github.com/pyscf/semiempirical
</pre></div>
</div>
<p>A particular release on github can be installed with the release URL
you can look up on GitHub:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install https://github.com/pyscf/semiempirical/archive/v0.1.0.tar.gz
</pre></div>
</div>
</li>
<li><p>Pip command for local paths. If you wish to load an extension
module developed in a local directory, you can use the local install
mode of pip. Use of a Python virtual environment is recommended to
avoid polluting the system default Python runtime environment; for
example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python -m venv /home/abc/pyscf-local-env
$ source /home/abc/pyscf-local-env/bin/activate
$ git clone https://github.com/pyscf/semiempirical /home/abc/semiempirical
$ pip install -e /home/abc/semiempirical
</pre></div>
</div>
</li>
<li><p>Environment variable <cite>PYSCF_EXT_PATH</cite>. You can place the location of
each extension module (or a file that contains these locations) in
this environment variable. The PySCF library will parse the paths
defined in this environment variable, and load the relevant
submodules. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/pyscf/semiempirical /home/abc/semiempirical
$ git clone https://github.com/pyscf/doci /home/abc/doci
$ git clone https://github.com/pyscf/dftd3 /home/abc/dftd3
$ echo /home/abc/doci &gt; /home/abc/.pyscf_ext_modules
$ echo /home/abc/dftd3 &gt;&gt; /home/abc/.pyscf_ext_modules
$ export PYSCF_EXT_PATH=/home/abc/semiempirical:/home/abc/.pyscf_ext_modules
</pre></div>
</div>
<p>Using this definition of <cite>PYSCF_EXT_PATH</cite>, the three extension
submodules (semiempirical, doci, dftd3) are loaded when PySCF is
imported, and you don’t have to use a Python virtual environment.</p>
</li>
</ul>
<p>Once the extension modules have been correctly installed (with any of
the methods shown above), you can use them as regular submodules
developed inside the pyscf main project:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pyscf</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyscf.semiempirical</span> <span class="kn">import</span> <span class="n">MINDO3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mol</span> <span class="o">=</span> <span class="n">pyscf</span><span class="o">.</span><span class="n">M</span><span class="p">(</span><span class="n">atom</span><span class="o">=</span><span class="s1">'N 0 0 0; N 0 0 1'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MINDO</span><span class="p">(</span><span class="n">mol</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="common-examples">
<h2 id="common-examples">Common examples<a class="headerlink" href="#common-examples" title="Permalink to this heading">¶</a></h2>
<p>… NAO
… —
… The <code class="xref py py-mod docutils literal notranslate"><span class="pre">nao</span></code> module includes basic functions for numerical atomic
orbitals (NAO) and NAO-based TDDFT methods.  This module was
contributed by Marc Barbry and Peter Koval. More details of <code class="xref py py-mod docutils literal notranslate"><span class="pre">nao</span></code>
can be found in
<a class="reference external" href="https://github.com/pyscf/nao/blob/master/README.md">https://github.com/pyscf/nao/blob/master/README.md</a>. This module can be
installed with::
…    $ pip install <a class="reference external" href="https://github.com/pyscf/nao">https://github.com/pyscf/nao</a></p>
<section id="dmrg-solvers">
<h3 id="dmrg-solvers">DMRG solvers<a class="headerlink" href="#dmrg-solvers" title="Permalink to this heading">¶</a></h3>
<p>Density matrix renormalization group (DMRG) theory is a powerful
method for solving ab initio quantum chemistry problems. PySCF can be
used with three implementations of DMRG: Block
(<a class="reference external" href="https://sanshar.github.io/Block">https://sanshar.github.io/Block</a>), block2
(<a class="reference external" href="https://block2.readthedocs.io/en/latest">https://block2.readthedocs.io/en/latest</a>), and CheMPS2
(<a class="reference external" href="http://sebwouters.github.io/CheMPS2/index.html">http://sebwouters.github.io/CheMPS2/index.html</a>).</p>
<p><a class="reference external" href="https://sanshar.github.io/Block/build.html">Installing Block</a> requires a C++11
compiler.  If C++11 is not supported by your compiler, you can
download the precompiled Block binary from <a class="reference external" href="https://sanshar.github.io/Block/build.html">https://sanshar.github.io/Block/build.html</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">block2</span></code> can be easily installed via <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">block2</span></code> or <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">block2-mpi</span></code>,
or <a class="reference external" href="https://block2.readthedocs.io/en/latest/user/installation.html">building from source</a>.</p>
<p>Before using Block or CheMPS2, you need create a configuration file
<code class="docutils literal notranslate"><span class="pre">pyscf/dmrgscf/settings.py</span></code> (as shown by settings.py.example) to
store the path where the DMRG solver was installed.</p>
</section>
<section id="tblis">
<h3 id="tblis">TBLIS<a class="headerlink" href="#tblis" title="Permalink to this heading">¶</a></h3>
<p><a class="reference external" href="https://github.com/devinamatthews/tblis">TBLIS</a> provides a native
algorithm for performing tensor contraction for arbitrarily
high-dimensional tensors. The native algorithm in TBLIS does not need
to transform tensors into matrices by permutations, then call BLAS for
the the matrix contraction, and back-permute the results. This means
that tensor transposes and data moves are largely avoided by TBLIS. This
leads to speedups in many correlated quantum chemistry methods in PySCF, such as
the coupled cluster methods.
The interface to TBLIS offers an efficient implementation for
<code class="xref py py-func docutils literal notranslate"><span class="pre">numpy.einsum()</span></code> style tensor contraction.  The tblis-einsum
plugin can be enabled with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install pyscf-tblis
</pre></div>
</div>
</section>
</section>
</section>
<section id="troubleshooting">
<h1 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this heading">¶</a></h1>
<section id="error-command-cmake-failed">
<h2 id="error-command-cmake-failed"><cite>error: command ‘cmake’ failed</cite><a class="headerlink" href="#error-command-cmake-failed" title="Permalink to this heading">¶</a></h2>
<p>In some cases, users who install PySCF with <cite>pip install pyscf</cite> may see an error like the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Building wheels for collected packages: pyscf
  Building wheel for pyscf (setup.py) ... error
  error: subprocess-exited-with-error
  × python setup.py bdist_wheel did not run successfully.
  │ exit code: 1
  ╰─&gt; [7 lines of output]
      scipy&gt;1.1.0 may crash when calling scipy.linalg.eigh. (Issues https://github.com/scipy/scipy/issues/15362 https://github.com/scipy/scipy/issues/16151)
      running bdist_wheel
      running build
      running build_ext
      Configuring extensions
      cmake -S/Users/&lt;user&gt;/personal/codes/chemistry/pyscf/pyscf/lib -Bbuild/temp.macosx-12-x86_64-cpython-310
      error: command 'cmake' failed: No such file or directory
      [end of output]
</pre></div>
</div>
<p>Here, <code class="docutils literal notranslate"><span class="pre">pip</span></code> chose not to install a binary wheel and is trying to build from source.
If that’s not your intention, you should install with the command <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">--prefer-binary</span> <span class="pre">pyscf</span></code>.
On the other hand, if you are intentionally trying to build from source, you’re missing the required <cite>cmake</cite> program.
See the docs for building from source above and issue <a class="reference external" href="https://github.com/pyscf/pyscf/issues/1684">1684</a> for more details.</p>
</section>
<section id="macos-library-not-loaded">
<h2 id="macos-library-not-loaded">MacOS: <cite>Library not loaded</cite><a class="headerlink" href="#macos-library-not-loaded" title="Permalink to this heading">¶</a></h2>
<p>For Mac OS X/macOS, you may get an import error if your OS X/macOS
version is 10.11 or newer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ne">OSError</span><span class="p">:</span> <span class="n">dlopen</span><span class="p">(</span><span class="n">xxx</span><span class="o">/</span><span class="n">pyscf</span><span class="o">/</span><span class="n">pyscf</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">libcgto</span><span class="o">.</span><span class="n">dylib</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span> <span class="n">Library</span> <span class="ow">not</span> <span class="n">loaded</span><span class="p">:</span> <span class="n">libcint</span><span class="mf">.3.0</span><span class="o">.</span><span class="n">dylib</span>
<span class="n">Referenced</span> <span class="n">from</span><span class="p">:</span> <span class="n">xxx</span><span class="o">/</span><span class="n">pyscf</span><span class="o">/</span><span class="n">pyscf</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">libcgto</span><span class="o">.</span><span class="n">dylib</span>
<span class="n">Reason</span><span class="p">:</span> <span class="n">unsafe</span> <span class="n">use</span> <span class="n">of</span> <span class="n">relative</span> <span class="n">rpath</span> <span class="n">libcint</span><span class="mf">.3.0</span><span class="o">.</span><span class="n">dylib</span> <span class="ow">in</span> <span class="n">xxx</span><span class="o">/</span><span class="n">pyscf</span><span class="o">/</span><span class="n">pyscf</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">libcgto</span><span class="o">.</span><span class="n">dylib</span> <span class="k">with</span> <span class="n">restricted</span> <span class="n">binary</span>
</pre></div>
</div>
<p>This is caused by the incorrect RPATH.  The script
<code class="docutils literal notranslate"><span class="pre">pyscf/lib/_runme_to_fix_dylib_osx10.11.sh</span></code> in the <code class="docutils literal notranslate"><span class="pre">pyscf/lib</span></code>
directory can be used to fix this problem:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">pyscf</span><span class="o">/</span><span class="n">lib</span>
<span class="n">sh</span> <span class="n">_runme_to_fix_dylib_osx10</span><span class="mf">.11</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>RPATH has been built in the dynamic library.  This may cause library
loading error on some systems.  You can run
<code class="docutils literal notranslate"><span class="pre">pyscf/lib/_runme_to_remove_rpath.sh</span></code> to remove the rpath code
from the library head.  Another workaround is to set
<code class="docutils literal notranslate"><span class="pre">-DCMAKE_SKIP_RPATH=1</span></code> and <code class="docutils literal notranslate"><span class="pre">-DCMAKE_MACOSX_RPATH=0</span></code> in the CMake
command line.  When the RPATH was removed, you need to add
<code class="docutils literal notranslate"><span class="pre">pyscf/lib</span></code> and <code class="docutils literal notranslate"><span class="pre">pyscf/lib/deps/lib</span></code> in <code class="docutils literal notranslate"><span class="pre">LD_LIBRARY_PATH</span></code>.</p>
</div>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="index.html" title="Home"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Home </span>
              </div>
            </a>
          
          
            <a href="quickstart.html" title="Quickstart"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Quickstart </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2015-2021, The PySCF Developers.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 7.0.1.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>