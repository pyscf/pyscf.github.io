<div align="left">
  <img src="https://github.com/pyscf/pyscf-doc/blob/master/logo/pyscf-logo.png" height="80px"/>
</div>

PySCF Documentation
===================

## Building the Docs Locally

### Requirements

Pip install the following packages:

- pyscf
- sphinx
- ablog
- sphinx-material
- sphinxcontrib-bibtex
- nbsphinx

> Pro-tip: Use `pyscf-doc/requirements.txt` to install all prerequisite packages at once.

If you have multiple versions of PySCF on your machine and you would like so use a specific version, set `PYTHONPATH` to include the specific PySCF source directory you want; otherwise, uncomment `sys.path.append(os.path.abspath('path_to_pyscf'))` in [source/conf.py](source/conf.py).

### Building and Serving
All sphinx related sources files (i.e. `.rst` and `.md`) are contained in `pyscf-doc/source`.

```bash
cd source
../scripts/generate_api_docs.sh
ablog build
ablog serve # this will open a tab in your default browser
```

> :warning: :warning: :warning: PySCF must be accessible in your current Python environment when you run `../scripts/generate_api_docs.sh`.

> :warning: :warning: :warning: Running `ablog build` will be slow after you've generated the API docs. There are two hack-y strategies to speed these up: 1) Follow the instructions above and after running `ablog build` you can delete `source/api_docs`. The HTML files will still exist in `source/_website` so they'll still show up when you serve the website, but `sphinx` will no longer need to generate them every time. 2) You can skip the `../scripts/generate_api_docs.sh` command above and deal with the broken link.


### Adding content to GitHub Pages

If you want to show the latest version of the docs on GitHub pages, build using then instructions above. Then from `pyscf-doc/source` run the following:

```bash
rm -r ../docs
mv _website ../docs
touch ../docs/.nojekyll
```

## How to contribute

1.  Add a rst file \"your\_method.rst\" in the [source/user](source/user/) directory in which one describes the basic theory and usage of the method. Reference \"user/your\_method.rst\" in the \"toctree\" section in [source/user.rst](source/user.rst).
2.  Add a rst file \"your\_module.rst\" in the [source/modules](source/modules/) directory in which one lists the examples and the member classes and functions of the module (the API doc is then generated by autodoc). (In the \"\_\_init\_\_.py\" file of each module, one should include a simple usage section. See [pyscf.dft.\_\_init\_\_.py](https://github.com/pyscf/pyscf/blob/master/pyscf/dft/__init__.py) as an example.) Reference \"your\_module.rst\" in the \"toctree\" section in [source/modules.rst](source/modules.rst).
3.  Optionally, one could also add a rst file \"your\_method\_develop.rst\" in the  [source/develop](source/develop/) directory where one provides more detailed descriptions of the implementation and advanced guidelines for using and further development of the module. Reference \"your\_method\_develop.rst\" in [source/develop.rst](source/develop.rst). 


<!-- ## Adding Blog Posts

Create a new `.md` file in `pyscf-doc/source/posts` and add the following header (modified for your post):

```
---
blogpost: true
date: February 1, 2021
author: James Smith
location: World
category: Tutorial
tags: HF, DFT, MCSCF
language: English
---
```

If you want to write a post in `.rst` that's fine too! Just use the following in your header:

```
:blogpost: true
:date: Oct 10, 2020
:author: Nabil Freij
:location: World
:category: Manual
:language: English
``` -->


## To-do in final PySCF rst docs

- [ ] Remove :numbered: from index.rst toctree
